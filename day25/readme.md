# Day25 訪客模式 (Visitor Pattern)

## 擬人化角色：【世界巡遊的鑑定師】

![](https://raw.githubusercontent.com/dpes8693/ithome-2025-ironman/refs/heads/main/gemini-img/24-Visitor.png)

- 種族： 人類/遊學者
- 外貌： 一位身穿旅行長袍、帶著微笑，看起來經驗豐富的長者。他正站在一個充滿各種奇特生物和物品的魔法商店或工作室中央。周圍環繞著發光的資訊介面，這些介面顯示著不同的生物（矮人工匠、地精商人、哥布林小偷，甚至是角落裡的盔甲傀儡）和物品（珍稀植物、魔法水晶、古老卷軸等）的詳細資訊。他正伸出雙手，仿佛在引導或鑑定這些元素。
- 性格： 開明、好奇、專業且不拘泥。他能夠以統一的方式「訪問」一個複雜集合中的不同類型元素，並根據每個元素的實際類別執行特定且獨立的行為，而無需修改元素本身的代碼。
- 能力： 使用不同的訪客使集合 (Collection) 中的元素行為與元素類別切離。這位鑑定師（訪客）可以走訪一個集合（例如一個綜合性的魔法市場或一支多元的冒險隊伍）。當他「訪問」一個「矮人工匠」時，他會評估其鍛造技藝；當他「訪問」一個「珍稀植物」時，他會鑑定其藥用價值；當他「訪問」一個「魔法水晶」時，他會測試其魔力儲量。關鍵在於，這些「鑑定行為」都是由鑑定師（訪客）定義的，而不是由矮人、植物或水晶本身定義的，這使得鑑定師可以輕鬆地添加新的鑑定行為，而無需修改被鑑定的元素。
- 代表語： 「萬物皆有其本，我來為你揭示。」
- 背景故事： 這位享譽世界的鑑定師，因其能辨識並評估世間萬物的能力而聞名。他經常受邀去各地的魔法市集、遺跡探險隊或貴族收藏庫進行鑑定。他的獨特之處在於，無論面對的是什麼物品或生物，他都有一套通用的「訪問」方法。然而，一旦他「接觸」到某個具體的物件（例如，一把被附魔的劍），他會立即根據這把劍的類型（武器、魔法物品、鋼鐵材質等），執行一套針對性的鑑定流程（測試鋒利度、探測魔力、檢查材質）。這種模式讓他能高效地應對各種複雜的鑑定需求，同時也讓被鑑定的物件保持其原有的獨立性，無需為適應鑑定而修改自身。

---

## 範例

### Java

### JavaScript

## 小總結
