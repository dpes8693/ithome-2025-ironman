# Day 26: èªè­˜ UML èˆ‡é¡åˆ¥åœ–

## ğŸ“– å‰è¨€

åœ¨è»Ÿé«”é–‹ç™¼çš„ä¸–ç•Œä¸­ï¼Œè‰¯å¥½çš„æºé€šæ˜¯æˆåŠŸçš„é—œéµã€‚æƒ³åƒä¸€ä¸‹ï¼Œå¦‚æœå»ºç¯‰å¸«æ²’æœ‰è—åœ–ï¼Œè¦å¦‚ä½•èˆ‡å·¥ç¨‹åœ˜éšŠæºé€šå»ºç¯‰è¨­è¨ˆï¼ŸåŒæ¨£åœ°ï¼Œè»Ÿé«”é–‹ç™¼ä¹Ÿéœ€è¦ä¸€ç¨®æ¨™æº–åŒ–çš„ã€Œè—åœ–ã€ä¾†è¡¨é”ç³»çµ±æ¶æ§‹å’Œè¨­è¨ˆæƒ³æ³•ã€‚é€™å°±æ˜¯ **UMLï¼ˆUnified Modeling Languageï¼Œçµ±ä¸€å¡‘æ¨¡èªè¨€ï¼‰** çš„åƒ¹å€¼æ‰€åœ¨ã€‚

---

## ğŸ¯ ä»€éº¼æ˜¯ UMLï¼Ÿ

UML æ˜¯ä¸€ç¨®æ¨™æº–åŒ–çš„è¦–è¦ºåŒ–å»ºæ¨¡èªè¨€ï¼Œç”¨æ–¼ï¼š

- **è¦åŠƒ**è»Ÿé«”ç³»çµ±çš„çµæ§‹
- **è¦–è¦ºåŒ–**ç³»çµ±çš„è¨­è¨ˆ
- **è¨˜éŒ„**ç³»çµ±çš„æ¶æ§‹
- **æºé€š**é–‹ç™¼åœ˜éšŠä¹‹é–“çš„æƒ³æ³•

> ğŸ’¡ UML ä¸æ˜¯ç¨‹å¼èªè¨€ï¼Œè€Œæ˜¯ä¸€ç¨®åœ–å½¢åŒ–çš„è¡¨é”æ–¹å¼ï¼Œè®“è¤‡é›œçš„ç³»çµ±è¨­è¨ˆè®Šå¾—å®¹æ˜“ç†è§£ã€‚

---

## ğŸ“Š UML åœ–è¡¨çš„åˆ†é¡

UML 2.x å®šç¾©äº† **14 ç¨®ä¸åŒé¡å‹çš„åœ–è¡¨**ï¼Œä¸»è¦åˆ†ç‚ºå…©å¤§é¡ï¼š

### 1ï¸âƒ£ çµæ§‹åœ–ï¼ˆStructure Diagramsï¼‰

æè¿°ç³»çµ±çš„éœæ…‹çµæ§‹ï¼š

- **é¡åˆ¥åœ–ï¼ˆClass Diagramï¼‰** â­
- **ç‰©ä»¶åœ–ï¼ˆObject Diagramï¼‰**
- **å…ƒä»¶åœ–ï¼ˆComponent Diagramï¼‰**
- **éƒ¨ç½²åœ–ï¼ˆDeployment Diagramï¼‰**
- **å¥—ä»¶åœ–ï¼ˆPackage Diagramï¼‰**
- **çµ„åˆçµæ§‹åœ–ï¼ˆComposite Structure Diagramï¼‰**
- **è¼ªå»“åœ–ï¼ˆProfile Diagramï¼‰**

### 2ï¸âƒ£ è¡Œç‚ºåœ–ï¼ˆBehavior Diagramsï¼‰

æè¿°ç³»çµ±çš„å‹•æ…‹è¡Œç‚ºï¼š

- **ä½¿ç”¨æ¡ˆä¾‹åœ–ï¼ˆUse Case Diagramï¼‰** â­
- **æ´»å‹•åœ–ï¼ˆActivity Diagramï¼‰**
- **ç‹€æ…‹æ©Ÿåœ–ï¼ˆState Machine Diagramï¼‰**
- **å¾ªåºåœ–ï¼ˆSequence Diagramï¼‰** â­
- **æºé€šåœ–ï¼ˆCommunication Diagramï¼‰**
- **äº’å‹•ç¸½è¦½åœ–ï¼ˆInteraction Overview Diagramï¼‰**
- **æ™‚åºåœ–ï¼ˆTiming Diagramï¼‰**

---

## ğŸŒŸ æœ¬ç¯‡é‡é»ï¼šé¡åˆ¥åœ–ï¼ˆClass Diagramï¼‰

é¡åˆ¥åœ–æ˜¯ UML ä¸­æœ€å¸¸ç”¨ã€æœ€é‡è¦çš„åœ–è¡¨ä¹‹ä¸€ã€‚å®ƒå±•ç¤ºç³»çµ±ä¸­çš„é¡åˆ¥ã€å±¬æ€§ã€æ–¹æ³•ï¼Œä»¥åŠé¡åˆ¥ä¹‹é–“çš„é—œä¿‚ã€‚

### ğŸ“ ç”¨é€”

- è¨­è¨ˆç³»çµ±çš„éœæ…‹çµæ§‹
- å±•ç¤ºé¡åˆ¥ä¹‹é–“çš„é—œä¿‚
- ä½œç‚ºç¨‹å¼ç¢¼å¯¦ä½œçš„è—åœ–
- æºé€šç³»çµ±æ¶æ§‹è¨­è¨ˆ

---

## ğŸ—ï¸ é¡åˆ¥åœ–åŸºæœ¬çµæ§‹

### å–®ä¸€é¡åˆ¥çš„è¡¨ç¤º

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ClassName        â”‚  â† é¡åˆ¥åç¨±
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - attribute1: Type  â”‚  â† å±¬æ€§ï¼ˆ- è¡¨ç¤º privateï¼‰
â”‚ + attribute2: Type  â”‚  â† å±¬æ€§ï¼ˆ+ è¡¨ç¤º publicï¼‰
â”‚ # attribute3: Type  â”‚  â† å±¬æ€§ï¼ˆ# è¡¨ç¤º protectedï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + method1(): void   â”‚  â† æ–¹æ³•
â”‚ - method2(): Type   â”‚
â”‚ # method3(): Type   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¯è¦‹æ€§ä¿®é£¾ç¬¦

| ç¬¦è™Ÿ | æ„ç¾© | Java å°æ‡‰ |
|------|------|-----------|
| `+` | Public | `public` |
| `-` | Private | `private` |
| `#` | Protected | `protected` |
| `~` | Package | (é è¨­ï¼Œç„¡ä¿®é£¾ç¬¦) |

### ç‰¹æ®Šæ¨™è¨˜

- **æŠ½è±¡é¡åˆ¥**ï¼šé¡åˆ¥åç¨±ä½¿ç”¨æ–œé«”æˆ–åŠ ä¸Š `{abstract}`
- **ä»‹é¢**ï¼šåŠ ä¸Š `<<interface>>` æ¨™ç±¤
- **éœæ…‹æˆå“¡**ï¼šåŠ åº•ç·š
- **æŠ½è±¡æ–¹æ³•**ï¼šä½¿ç”¨æ–œé«”

---

## ğŸ”— é¡åˆ¥ä¹‹é–“çš„é—œä¿‚

é¡åˆ¥åœ–çš„ç²¾é«“åœ¨æ–¼è¡¨é”é¡åˆ¥ä¹‹é–“çš„é—œä¿‚ï¼Œä»¥ä¸‹æ˜¯å…­ç¨®ä¸»è¦é—œä¿‚ï¼š

### 1. ç¹¼æ‰¿ï¼ˆInheritance / Generalizationï¼‰

**ç¬¦è™Ÿ**ï¼š`â”€â”€â”€â–·` ï¼ˆå¯¦ç·šç©ºå¿ƒä¸‰è§’ç®­é ­ï¼‰

**æ„ç¾©**ï¼šå­é¡åˆ¥ç¹¼æ‰¿çˆ¶é¡åˆ¥ï¼Œ"is-a" é—œä¿‚

**ç¯„ä¾‹**ï¼š

```text
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  å‹•ç‰©   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–³
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚  è²“   â”‚ â”‚  ç‹—   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜
```

è²“ **æ˜¯ä¸€ç¨®** å‹•ç‰©ï¼Œç‹— **æ˜¯ä¸€ç¨®** å‹•ç‰©ã€‚

---

### 2. å¯¦ä½œï¼ˆRealization / Implementationï¼‰

**ç¬¦è™Ÿ**ï¼š`â”„â”„â–·` ï¼ˆè™›ç·šç©ºå¿ƒä¸‰è§’ç®­é ­ï¼‰

**æ„ç¾©**ï¼šé¡åˆ¥å¯¦ä½œä»‹é¢

**ç¯„ä¾‹**ï¼š

```text
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚<<interface>>â”‚
    â”‚   å¯é£›è¡Œ    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–³
         â”Š
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”Š         â”Š
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚  é³¥   â”‚ â”‚ é£›æ©Ÿ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. é—œè¯ï¼ˆAssociationï¼‰

**ç¬¦è™Ÿ**ï¼š`â”€â”€â”€` ï¼ˆå¯¦ç·šï¼‰

**æ„ç¾©**ï¼šé¡åˆ¥ä¹‹é–“æœ‰æŸç¨®é—œè¯ï¼Œ"has-a" æˆ– "uses" é—œä¿‚

**ç¯„ä¾‹**ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”
â”‚æ•™å¸« â”‚â”€â”€â”€â”€â”€â”€>â”‚å­¸ç”Ÿ â”‚
â””â”€â”€â”€â”€â”€â”˜ 1  *  â””â”€â”€â”€â”€â”€â”˜
```

ä¸€ä½æ•™å¸«å¯ä»¥æ•™å°å¤šä½å­¸ç”Ÿã€‚

**å¤šé‡æ€§æ¨™è¨˜**ï¼š

- `1` : æ­£å¥½ä¸€å€‹
- `0..1` : é›¶æˆ–ä¸€å€‹
- `*` æˆ– `0..*` : é›¶æˆ–å¤šå€‹
- `1..*` : ä¸€æˆ–å¤šå€‹
- `n..m` : n åˆ° m å€‹

---

### 4. èšåˆï¼ˆAggregationï¼‰

**ç¬¦è™Ÿ**ï¼š`â”€â”€â”€â—‡` ï¼ˆå¯¦ç·šç©ºå¿ƒè±å½¢ï¼‰

**æ„ç¾©**ï¼šæ•´é«”åŒ…å«éƒ¨åˆ†çš„é—œä¿‚ï¼Œä½†éƒ¨åˆ†å¯ä»¥ç¨ç«‹å­˜åœ¨ï¼ˆå¼±æ“æœ‰é—œä¿‚ï¼‰

**ç¯„ä¾‹**ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”
â”‚éƒ¨é–€ â”‚â—‡â”€â”€â”€â”€â”€â”€â”‚å“¡å·¥ â”‚
â””â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”˜
```

éƒ¨é–€åŒ…å«å“¡å·¥ï¼Œä½†å“¡å·¥é›¢é–‹éƒ¨é–€å¾Œä»ç„¶å­˜åœ¨ã€‚

---

### 5. çµ„åˆï¼ˆCompositionï¼‰

**ç¬¦è™Ÿ**ï¼š`â”€â”€â”€â—†` ï¼ˆå¯¦ç·šå¯¦å¿ƒè±å½¢ï¼‰

**æ„ç¾©**ï¼šæ•´é«”åŒ…å«éƒ¨åˆ†çš„é—œä¿‚ï¼Œéƒ¨åˆ†ä¸èƒ½ç¨ç«‹æ–¼æ•´é«”å­˜åœ¨ï¼ˆå¼·æ“æœ‰é—œä¿‚ï¼‰

**ç¯„ä¾‹**ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”
â”‚æˆ¿å­ â”‚â—†â”€â”€â”€â”€â”€â”€â”‚æˆ¿é–“ â”‚
â””â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”˜
```

æˆ¿å­åŒ…å«æˆ¿é–“ï¼Œæˆ¿å­ä¸å­˜åœ¨äº†ï¼Œæˆ¿é–“ä¹Ÿå°±ä¸å­˜åœ¨äº†ã€‚

---

### 6. ç›¸ä¾ï¼ˆDependencyï¼‰

**ç¬¦è™Ÿ**ï¼š`â”„â”„>` ï¼ˆè™›ç·šç®­é ­ï¼‰

**æ„ç¾©**ï¼šä¸€å€‹é¡åˆ¥ä½¿ç”¨å¦ä¸€å€‹é¡åˆ¥ï¼Œé€šå¸¸æ˜¯æš«æ™‚æ€§çš„é—œä¿‚

**ç¯„ä¾‹**ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚è¨‚å–® â”‚ â”„â”„â”„â”„â”„> â”‚æŠ˜æ‰£è¨ˆç®—å™¨â”‚
â””â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¨‚å–®åœ¨è¨ˆç®—åƒ¹æ ¼æ™‚æœƒä½¿ç”¨æŠ˜æ‰£è¨ˆç®—å™¨ã€‚

---

## ğŸ’¼ ç¯„ä¾‹ï¼šRPG éŠæˆ²è§’è‰²ç³»çµ±

### ç³»çµ±éœ€æ±‚

è¨­è¨ˆä¸€å€‹ RPG éŠæˆ²çš„è§’è‰²ç³»çµ±ï¼š

- æœ‰ä¸åŒé¡å‹çš„è§’è‰²ï¼šæˆ°å£«ã€æ³•å¸«
- æ‰€æœ‰è§’è‰²éƒ½æœ‰åŸºæœ¬å±¬æ€§ï¼šåå­—ã€ç­‰ç´šã€ç”Ÿå‘½å€¼
- æ‰€æœ‰è§’è‰²éƒ½èƒ½æ”»æ“Šã€é˜²ç¦¦ã€å‡ç´š
- æˆ°å£«æœ‰å°ˆå±¬æ­¦å™¨å’ŒæŠ€èƒ½
- æ³•å¸«æœ‰å°ˆå±¬æ³•æ–å’Œé­”æ³•

### UML é¡åˆ¥åœ–

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   <<abstract>>          â”‚
â”‚      Character          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - name: String          â”‚
â”‚ - level: int            â”‚
â”‚ - hp: int               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + Character(name)       â”‚
â”‚ + attack(): void        â”‚ â† æŠ½è±¡æ–¹æ³•
â”‚ + defend(): void        â”‚
â”‚ + levelUp(): void       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–³
           â”‚ (ç¹¼æ‰¿)
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Warrior  â”‚ â”‚   Mage    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚-sword:    â”‚ â”‚-staff:    â”‚
â”‚ String    â”‚ â”‚ String    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚+Warrior() â”‚ â”‚+Mage()    â”‚
â”‚+attack()  â”‚ â”‚+attack()  â”‚
â”‚+slash()   â”‚ â”‚+cast()    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Java ç¨‹å¼ç¢¼å¯¦ä½œ

#### Character æŠ½è±¡çˆ¶é¡åˆ¥

```java
// æŠ½è±¡çˆ¶é¡åˆ¥
public abstract class Character {
    private String name;
    private int level;
    private int hp;
    
    public Character(String name) {
        this.name = name;
        this.level = 1;
        this.hp = 100;
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼Œå­é¡åˆ¥å¿…é ˆå¯¦ä½œ
    public abstract void attack();
    
    // å…·é«”æ–¹æ³•
    public void defend() {
        System.out.println(name + " é˜²ç¦¦ä¸­...");
    }
    
    public void levelUp() {
        level++;
        hp += 50;
        System.out.println(name + " å‡ç´šåˆ° Lv." + level + "ï¼ç”Ÿå‘½å€¼: " + hp);
    }
    
    // Getters
    public String getName() {
        return name;
    }
    
    public int getLevel() {
        return level;
    }
    
    public int getHp() {
        return hp;
    }
}
```

#### Warrior æˆ°å£«é¡åˆ¥

```java
// æˆ°å£«å­é¡åˆ¥
public class Warrior extends Character {
    private String sword;
    
    public Warrior(String name) {
        super(name);
        this.sword = "éµåŠ";
    }
    
    @Override
    public void attack() {
        System.out.println(getName() + " æˆ°å£«æ®åŠæ–¬æ“Šï¼");
    }
    
    // æˆ°å£«å°ˆå±¬æŠ€èƒ½
    public void slash() {
        System.out.println(getName() + " ä½¿ç”¨ " + sword + " é€²è¡Œå¼·åŠ›æ–¬æ“Šï¼é€ æˆ 150% å‚·å®³ï¼");
    }
    
    // å‡ç´šæ™‚å¯ä»¥å¼·åŒ–æ­¦å™¨
    public void upgradeSword() {
        if (getLevel() >= 5) {
            this.sword = "é‹¼åŠ";
            System.out.println("æ­¦å™¨å‡ç´šç‚ºï¼š" + sword);
        } else if (getLevel() >= 10) {
            this.sword = "ç¥åŠ";
            System.out.println("æ­¦å™¨å‡ç´šç‚ºï¼š" + sword);
        }
    }
}
```

#### Mage æ³•å¸«é¡åˆ¥

```java
// æ³•å¸«å­é¡åˆ¥
public class Mage extends Character {
    private String staff;
    private int mana;
    
    public Mage(String name) {
        super(name);
        this.staff = "æœ¨æ–";
        this.mana = 100;
    }
    
    @Override
    public void attack() {
        System.out.println(getName() + " æ³•å¸«æ–½æ”¾é­”æ³•æ”»æ“Šï¼");
        useMana(10);
    }
    
    // æ³•å¸«å°ˆå±¬æŠ€èƒ½
    public void cast() {
        if (mana >= 30) {
            System.out.println(getName() + " ä½¿ç”¨ " + staff + " æ–½æ”¾ç«çƒè¡“ï¼é€ æˆ 200% å‚·å®³ï¼");
            useMana(30);
        } else {
            System.out.println("é­”åŠ›ä¸è¶³ï¼");
        }
    }
    
    private void useMana(int amount) {
        mana -= amount;
        System.out.println("å‰©é¤˜é­”åŠ›: " + mana);
    }
    
    public void restoreMana() {
        mana = 100;
        System.out.println("é­”åŠ›å·²æ¢å¾©ï¼");
    }
}
```

#### æ¸¬è©¦ç¨‹å¼

```java
public class RPGGameExample {
    public static void main(String[] args) {
        // å‰µå»ºæˆ°å£«è§’è‰²
        Warrior warrior = new Warrior("äºç‘Ÿ");
        System.out.println("=== æˆ°å£« " + warrior.getName() + " ===");
        warrior.attack();      // ä¸€èˆ¬æ”»æ“Š
        warrior.slash();       // å°ˆå±¬æŠ€èƒ½
        warrior.defend();      // é˜²ç¦¦
        warrior.levelUp();     // å‡ç´š
        
        System.out.println();
        
        // å‰µå»ºæ³•å¸«è§’è‰²
        Mage mage = new Mage("æ¢…æ—");
        System.out.println("=== æ³•å¸« " + mage.getName() + " ===");
        mage.attack();         // ä¸€èˆ¬æ”»æ“Š
        mage.cast();           // å°ˆå±¬æŠ€èƒ½
        mage.attack();         // å†æ¬¡æ”»æ“Š
        mage.attack();         // é­”åŠ›ä¸è¶³
        mage.restoreMana();    // æ¢å¾©é­”åŠ›
        mage.levelUp();        // å‡ç´š
    }
}
```

#### åŸ·è¡Œçµæœ

```text
=== æˆ°å£« äºç‘Ÿ ===
äºç‘Ÿ æˆ°å£«æ®åŠæ–¬æ“Šï¼
äºç‘Ÿ ä½¿ç”¨ éµåŠ é€²è¡Œå¼·åŠ›æ–¬æ“Šï¼é€ æˆ 150% å‚·å®³ï¼
äºç‘Ÿ é˜²ç¦¦ä¸­...
äºç‘Ÿ å‡ç´šåˆ° Lv.2ï¼ç”Ÿå‘½å€¼: 150

=== æ³•å¸« æ¢…æ— ===
æ¢…æ— æ³•å¸«æ–½æ”¾é­”æ³•æ”»æ“Šï¼
å‰©é¤˜é­”åŠ›: 90
æ¢…æ— ä½¿ç”¨ æœ¨æ– æ–½æ”¾ç«çƒè¡“ï¼é€ æˆ 200% å‚·å®³ï¼
å‰©é¤˜é­”åŠ›: 60
æ¢…æ— æ³•å¸«æ–½æ”¾é­”æ³•æ”»æ“Šï¼
å‰©é¤˜é­”åŠ›: 50
æ¢…æ— æ³•å¸«æ–½æ”¾é­”æ³•æ”»æ“Šï¼
å‰©é¤˜é­”åŠ›: 40
é­”åŠ›å·²æ¢å¾©ï¼
æ¢…æ— å‡ç´šåˆ° Lv.2ï¼ç”Ÿå‘½å€¼: 150
```

<!-- ---

## ğŸ¯ é€²éšç¯„ä¾‹ï¼šåŠ å…¥ä»‹é¢è¨­è¨ˆ

è®“æˆ‘å€‘æ“´å±•ç³»çµ±ï¼ŒåŠ å…¥ä»‹é¢ä¾†å¯¦ç¾æ›´éˆæ´»çš„è¨­è¨ˆã€‚

### ç³»çµ±æ“´å±•éœ€æ±‚

- æŸäº›è§’è‰²å¯ä»¥é£›è¡Œï¼ˆå¦‚é£›è¡Œæ³•å¸«ï¼‰
- æŸäº›è§’è‰²å¯ä»¥æ²»ç™‚ï¼ˆå¦‚ç‰§å¸«ï¼‰
- æŸäº›è§’è‰²å¯ä»¥åŒæ™‚æ“æœ‰å¤šç¨®èƒ½åŠ›

### æ“´å±•çš„ UML é¡åˆ¥åœ–

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<<interface>> â”‚     â”‚<<interface>> â”‚
â”‚   Flyable    â”‚     â”‚   Healable   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + fly():void â”‚     â”‚ + heal():voidâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–³                    â–³
       â”Š                    â”Š
       â”Š              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
       â”Š              â”Š           â”Š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Character   â”‚  â”‚ Mage   â”‚  â”‚ Priest â”‚
â”‚  (abstract)  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”Š
       â–³               â”Š
       â”‚          â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
       â”‚          â”‚         â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚Warriorâ”‚ â”‚FlyingMageâ”‚â”€â”€â”˜
   â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Java ç¨‹å¼ç¢¼å¯¦ä½œ

```java
// å¯é£›è¡Œä»‹é¢
public interface Flyable {
    void fly();
}

// å¯æ²»ç™‚ä»‹é¢
public interface Healable {
    void heal(Character target);
}

// é£›è¡Œæ³•å¸«ï¼ˆå¯¦ä½œé£›è¡Œä»‹é¢ï¼‰
public class FlyingMage extends Mage implements Flyable {
    public FlyingMage(String name) {
        super(name);
    }
    
    @Override
    public void fly() {
        System.out.println(getName() + " ä½¿ç”¨é­”æ³•é£›è¡Œåœ¨ç©ºä¸­ï¼");
    }
    
    @Override
    public void attack() {
        System.out.println(getName() + " å¾ç©ºä¸­ç™¼å°„é­”æ³•é£›å½ˆï¼");
    }
}

// ç‰§å¸«ï¼ˆå¯¦ä½œæ²»ç™‚ä»‹é¢ï¼‰
public class Priest extends Character implements Healable {
    public Priest(String name) {
        super(name);
    }
    
    @Override
    public void attack() {
        System.out.println(getName() + " ä½¿ç”¨ç¥è–ä¹‹å…‰æ”»æ“Šï¼");
    }
    
    @Override
    public void heal(Character target) {
        System.out.println(getName() + " æ²»ç™‚ " + target.getName() + "ï¼Œæ¢å¾© 50 ç”Ÿå‘½å€¼ï¼");
    }
}

// æ¸¬è©¦ç¨‹å¼
public class AdvancedRPGExample {
    public static void main(String[] args) {
        FlyingMage flyingMage = new FlyingMage("è‰¾è‰çµ²");
        Priest priest = new Priest("è‰äº");
        Warrior warrior = new Warrior("å¸ƒé­¯æ–¯");
        
        System.out.println("=== æˆ°é¬¥é–‹å§‹ ===");
        flyingMage.fly();
        flyingMage.attack();
        
        warrior.attack();
        warrior.slash();
        
        priest.heal(warrior);
        priest.attack();
    }
}
``` -->

---

## ğŸ“Œ é¡åˆ¥åœ–è¨­è¨ˆåŸå‰‡

### 1. å–®ä¸€è·è²¬åŸå‰‡ï¼ˆSingle Responsibility Principleï¼‰

æ¯å€‹é¡åˆ¥æ‡‰è©²åªæœ‰ä¸€å€‹è·è²¬ã€‚

âŒ **ä¸å¥½çš„è¨­è¨ˆ**ï¼š

```java
public class User {
    private String name;
    
    public void saveToDatabase() { }     // è³‡æ–™åº«æ“ä½œ
    public void sendEmail() { }          // éƒµä»¶ç™¼é€
    public void generateReport() { }     // å ±å‘Šç”Ÿæˆ
}
```

âœ… **å¥½çš„è¨­è¨ˆ**ï¼š

```java
public class User {
    private String name;
    // åªè² è²¬ä½¿ç”¨è€…è³‡æ–™
}

public class UserRepository {
    public void save(User user) { }  // è² è²¬è³‡æ–™åº«æ“ä½œ
}

public class EmailService {
    public void send(User user) { }  // è² è²¬éƒµä»¶ç™¼é€
}
```

### 2. å„ªå…ˆä½¿ç”¨çµ„åˆè€Œéç¹¼æ‰¿ï¼ˆComposition over Inheritanceï¼‰

**ç¹¼æ‰¿**å»ºç«‹äº†å¼·è€¦åˆé—œä¿‚ï¼Œ**çµ„åˆ**æ›´åŠ éˆæ´»ã€‚

âŒ **éåº¦ä½¿ç”¨ç¹¼æ‰¿**ï¼š

```text
    Animal
      â”‚
  â”Œâ”€â”€â”€â”´â”€â”€â”€â”
  â”‚       â”‚
 Bird    Fish
  â”‚       â”‚
â”Œâ”€â”´â”€â”     â”‚
â”‚   â”‚     â”‚
Duck Swan Shark
```

âœ… **ä½¿ç”¨çµ„åˆ**ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Animal  â”‚â—‡â”€â”€â”€â”€>â”‚ MoveBehavior â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â–³
                  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
            â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”
            â”‚ Fly  â”‚    â”‚ Swim â”‚
            â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ä»‹é¢éš”é›¢åŸå‰‡ï¼ˆInterface Segregation Principleï¼‰

ä¸è¦å¼·è¿«é¡åˆ¥å¯¦ä½œå®ƒå€‘ä¸éœ€è¦çš„æ–¹æ³•ã€‚

âŒ **éå¤§çš„ä»‹é¢**ï¼š

```java
public interface Worker {
    void work();
    void eat();
    void sleep();
    void fly();  // ä¸æ˜¯æ‰€æœ‰ worker éƒ½æœƒé£›
}
```

âœ… **åˆ†é›¢ä»‹é¢**ï¼š

```java
public interface Workable {
    void work();
}

public interface Eatable {
    void eat();
}

public interface Flyable {
    void fly();
}
```

---

## æœ¬ç¯‡ç¸½çµ

1. **UML çš„å®šç¾©èˆ‡ç”¨é€”**
   - æ¨™æº–åŒ–çš„è¦–è¦ºå»ºæ¨¡èªè¨€
   - æºé€šã€è¨­è¨ˆã€æ–‡ä»¶åŒ–çš„å·¥å…·

2. **UML åœ–è¡¨åˆ†é¡**
   - çµæ§‹åœ–ï¼šæè¿°éœæ…‹çµæ§‹
   - è¡Œç‚ºåœ–ï¼šæè¿°å‹•æ…‹è¡Œç‚º

3. **é¡åˆ¥åœ–çš„å®Œæ•´çŸ¥è­˜**
   - åŸºæœ¬çµæ§‹ï¼šé¡åˆ¥åç¨±ã€å±¬æ€§ã€æ–¹æ³•
   - å…­ç¨®é—œä¿‚ï¼šç¹¼æ‰¿ã€å¯¦ä½œã€é—œè¯ã€èšåˆã€çµ„åˆã€ç›¸ä¾
   - å¯è¦‹æ€§ä¿®é£¾ç¬¦ï¼špublicã€privateã€protected
<!-- 
### ğŸ’¡ å¯¦æˆ°æŠ€èƒ½

- å¦‚ä½•è¨­è¨ˆ RPG éŠæˆ²çš„è§’è‰²ç³»çµ±
- å¦‚ä½•ä½¿ç”¨ä»‹é¢å¯¦ç¾å¤šé‡èƒ½åŠ›
- é¡åˆ¥åœ–çš„è¨­è¨ˆåŸå‰‡

### ğŸ“– ä¸‹ä¸€ç¯‡é å‘Š

åœ¨ **Day 27ï¼ˆä¸­ç¯‡ï¼‰**ï¼Œæˆ‘å€‘å°‡å­¸ç¿’ï¼š

- **ä½¿ç”¨æ¡ˆä¾‹åœ–**ï¼šå¾ä½¿ç”¨è€…è§’åº¦æè¿°ç³»çµ±åŠŸèƒ½
- **å¾ªåºåœ–**ï¼šå±•ç¤ºç‰©ä»¶ä¹‹é–“çš„äº’å‹•æµç¨‹
- ç·šä¸Šè³¼ç‰©ç³»çµ±èˆ‡ç™»å…¥ç³»çµ±çš„å®Œæ•´ç¯„ä¾‹

---

## ğŸ·ï¸ æ¨™ç±¤

`#UML` `#é¡åˆ¥åœ–` `#ClassDiagram` `#ç‰©ä»¶å°å‘è¨­è¨ˆ` `#è»Ÿé«”æ¶æ§‹` `#è¨­è¨ˆæ¨¡å¼` `#Java` `#è»Ÿé«”å·¥ç¨‹` -->
